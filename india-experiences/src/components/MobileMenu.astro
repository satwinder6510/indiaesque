---
// Mobile Menu Component
const navLinks = [
  { name: 'Home', href: '/' },
  { name: 'Staycations', href: '/staycations/' },
  { name: 'Destinations', href: '/destinations/' },
  { name: 'Experiences', href: '/experiences/' },
  { name: 'Journal', href: '/journal/' },
  { name: 'About', href: '/about/' },
  { name: 'Contact', href: '/contact/' },
];
---

<div class="mobile-menu" id="mobile-menu">
  <div class="mobile-menu-backdrop" data-menu-close></div>
  <div class="mobile-menu-panel">
    <div class="mobile-menu-header">
      <button class="mobile-menu-close" aria-label="Close menu" data-menu-close>
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
          <path d="M18 6L6 18M6 6l12 12" />
        </svg>
      </button>
      <span class="mobile-menu-logo">India Esque</span>
      <div class="mobile-menu-spacer"></div>
    </div>

    <nav class="mobile-nav">
      {navLinks.map(link => (
        <a href={link.href} class="mobile-nav-link">{link.name}</a>
      ))}
    </nav>
  </div>
</div>

<script>
  function initMobileMenu() {
    const menu = document.getElementById('mobile-menu');
    const toggleBtns = document.querySelectorAll('[data-menu-toggle]');
    const closeBtns = document.querySelectorAll('[data-menu-close]');

    toggleBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        menu?.classList.add('active');
        document.body.style.overflow = 'hidden';
      });
    });

    closeBtns.forEach(btn => {
      btn.addEventListener('click', () => {
        menu?.classList.remove('active');
        document.body.style.overflow = '';
      });
    });
  }

  document.addEventListener('astro:page-load', initMobileMenu);
  initMobileMenu();
</script>

<style>
  .mobile-menu-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 40px;
  }

  .mobile-menu-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    background: none;
    border: none;
    color: #ffffff;
    cursor: pointer;
  }

  .mobile-menu-logo {
    font-family: 'Benton Sans', sans-serif;
    font-size: 14px;
    font-weight: 300;
    letter-spacing: 0.3em;
    color: #ffffff;
  }

  .mobile-menu-spacer {
    width: 40px;
  }

  .mobile-nav {
    display: flex;
    flex-direction: column;
    gap: 8px;
  }

  .mobile-nav-link {
    display: block;
    padding: 12px 0;
    font-family: 'Muli', sans-serif;
    font-size: 14px;
    font-weight: 400;
    letter-spacing: 0.2em;
    color: #ffffff;
    text-decoration: none;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    transition: color 0.2s ease;
  }

  .mobile-nav-link:hover {
    color: #E9CDB0;
  }
</style>
